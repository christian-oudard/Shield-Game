levels:

to test:
1- undo features
3- test that all the levels in the game can be solved
    - have a solution code like (mne, mw, ssw, me)
	- requires good tests on undo features first
- pushing a block with the shield
- polyomino blocks
- spikes
- pushing blocks into water
	- heavy blocks into water
	- pushing polyomino blocks into water

housekeeping:
- use real python logging, not crappy custom log
- python 3? 2to3? 3to2?

features:
2- record level demo
4- continuity
- gameplay
	- should you be able to push multiple heavy blocks with your shield? maybe no?
- effects
	- color
	- show when a dead-key command is pending
	- pause momentarily after your move before enemies move
- graphics
	- tile based
	- polyomino effects
	- rounded corners for walls, to show that you may move through diagonally tight spaces
	- motion between states

style:
- make it an umbrella

bugs:
Traceback (most recent call last):
  File "./main.py", line 118, in <module>
    curses.wrapper(curses_main)
  File "/usr/lib/python2.6/curses/wrapper.py", line 44, in wrapper
    return func(stdscr, *args, **kwds)
  File "./main.py", line 60, in curses_main
    world.update(('shield', direction))
  File "/home/christian/devel/curses_game/world.py", line 26, in update
    result = self.hero.shield(direction)
  File "/home/christian/devel/curses_game/entity/hero.py", line 63, in shield
    if not p.finish_move(direction):
  File "/home/christian/devel/curses_game/entity/entity.py", line 26, in finish_move
    return self.bump_entity(e, direction)
  File "/home/christian/devel/curses_game/entity/entity.py", line 38, in bump_entity
    return entity.get_bumped(self, direction)
  File "/home/christian/devel/curses_game/entity/entity.py", line 32, in get_bumped
    return self.move(direction)
  File "/home/christian/devel/curses_game/entity/polyomino.py", line 27, in move
    return self.polyomino.move_poly(direction)
  File "/home/christian/devel/curses_game/entity/polyomino.py", line 12, in move_poly
    result = all(p.finish_move(direction) for p in self.pieces)
  File "/home/christian/devel/curses_game/entity/polyomino.py", line 12, in <genexpr>
    result = all(p.finish_move(direction) for p in self.pieces)
  File "/home/christian/devel/curses_game/entity/entity.py", line 26, in finish_move
    return self.bump_entity(e, direction)
  File "/home/christian/devel/curses_game/entity/entity.py", line 38, in bump_entity
    return entity.get_bumped(self, direction)
  File "/home/christian/devel/curses_game/entity/entity.py", line 32, in get_bumped
    return self.move(direction)
  File "/home/christian/devel/curses_game/entity/polyomino.py", line 27, in move
    return self.polyomino.move_poly(direction)
  File "/home/christian/devel/curses_game/entity/polyomino.py", line 12, in move_poly
    result = all(p.finish_move(direction) for p in self.pieces)
  File "/home/christian/devel/curses_game/entity/polyomino.py", line 12, in <genexpr>
    result = all(p.finish_move(direction) for p in self.pieces)
  File "/home/christian/devel/curses_game/entity/entity.py", line 26, in finish_move
    return self.bump_entity(e, direction)
  File "/home/christian/devel/curses_game/entity/entity.py", line 38, in bump_entity
    return entity.get_bumped(self, direction)
  File "/home/christian/devel/curses_game/entity/entity.py", line 32, in get_bumped
    return self.move(direction)
  File "/home/christian/devel/curses_game/entity/polyomino.py", line 27, in move
    return self.polyomino.move_poly(direction)
  File "/home/christian/devel/curses_game/entity/polyomino.py", line 12, in move_poly
    result = all(p.finish_move(direction) for p in self.pieces)
  File "/home/christian/devel/curses_game/entity/polyomino.py", line 12, in <genexpr>
    result = all(p.finish_move(direction) for p in self.pieces)
  File "/home/christian/devel/curses_game/entity/entity.py", line 26, in finish_move
    return self.bump_entity(e, direction)
  File "/home/christian/devel/curses_game/entity/entity.py", line 38, in bump_entity
    return entity.get_bumped(self, direction)
  File "/home/christian/devel/curses_game/entity/entity.py", line 32, in get_bumped
    return self.move(direction)
  File "/home/christian/devel/curses_game/entity/polyomino.py", line 27, in move
    return self.polyomino.move_poly(direction)
  File "/home/christian/devel/curses_game/entity/polyomino.py", line 12, in move_poly
    result = all(p.finish_move(direction) for p in self.pieces)
  File "/home/christian/devel/curses_game/entity/polyomino.py", line 12, in <genexpr>
    result = all(p.finish_move(direction) for p in self.pieces)
  File "/home/christian/devel/curses_game/entity/entity.py", line 24, in finish_move
    e = self.collided_entity()
  File "/home/christian/devel/curses_game/entity/entity.py", line 45, in collided_entity
    other = self.world.entity_at(self.pos)
  File "/home/christian/devel/curses_game/world.py", line 106, in entity_at
    assert len(entities) <= 1
AssertionError

- require a level to have a goal
- spaces interior to level are inaccessible, but show the same as floor
- fix n**2 behavior in polyominos (1 move -> 9 trigger test -> 81 trigger action)
	- reduce duplication between polyomino logic and entity logic
- bump display when opening shield is usually incomplete
- display not showing borders correctly?

notes:

- gameplay progression
movement intro
heavy blocks intro
* simple puzzles with heavy blocks,
water
* sokoban puzzles with water and pushing, still no shield
enable shield
* puzzles with shield and heavy blocks
spikes
round blocks
sliding blocks
